!function(){"use strict";var t,e={708:function(t,e,n){var i=n(311),o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.setContext=function(t){this.controller=t},t}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function s(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}var c=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var h,f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(o,t);var e,n,i=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=a(e);if(n){var o=a(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return s(this,t)});function o(){return r(this,o),i.apply(this,arguments)}return o.prototype.handle=function(){console.log("GameIntro")},o}(o);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function _(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}!function(t){t.INTRO="INTRO",t.IDLE="IDLE",t.GAMBLE="GAMBLE",t.WIN="WIN",t.LOSE="LOSE"}(h||(h={}));var w=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var b,y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(o,t);var e,n,i=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=p(e);if(n){var o=p(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return _(this,t)});function o(){return l(this,o),i.apply(this,arguments)}return o.prototype.handle=function(){console.log("GameIdle")},o}(o),v=n(325);function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function T(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t,e){return x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},x(t,e)}!function(t){t.onBetIncrease=new v.M,t.onBetDecrease=new v.M,t.onPlayButtonClick=new v.M,t.onContinueButtonClick=new v.M,t.onMuteButtonClick=new v.M,t.BetChangeEvent=new v.M,t.BalanceChangeEvent=new v.M,t.WinEvent=new v.M,t.LoseEvent=new v.M,t.GambleStartEvent=new v.M,t.GambleEndEvent=new v.M,t.GameContinueEndEvent=new v.M}(b||(b={}));var E=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(o,t);var e,n,i=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=m(e);if(n){var o=m(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return T(this,t)});function o(){return g(this,o),i.apply(this,arguments)}return o.prototype.handle=function(){console.log("GameGamble");var t=Math.floor(2*Math.random());switch(b.GambleStartEvent.emit(t),Number(t)){case 0:this.controller.transitionTo(h.LOSE);break;case 1:this.controller.transitionTo(h.WIN)}},o}(o);function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function k(t,e){return!e||"object"!==B(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P(t,e){return P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},P(t,e)}var B=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(o,t);var e,n,i=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=S(e);if(n){var o=S(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return k(this,t)});function o(){return C(this,o),i.apply(this,arguments)}return o.prototype.handle=function(){console.log("GameWinState"),b.WinEvent.emit("Win"),this.controller.transitionTo(h.IDLE)},o}(o);function M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N(t){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},N(t)}function L(t,e){return!e||"object"!==V(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t,e){return j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},j(t,e)}var V=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var I,D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(o,t);var e,n,i=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=N(e);if(n){var o=N(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return L(this,t)});function o(){return M(this,o),i.apply(this,arguments)}return o.prototype.handle=function(){console.log("GameLoseState"),b.LoseEvent.emit("Lose"),this.controller.transitionTo(h.IDLE)},o}(o),A=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._states=new Map,this.transitionTo(h.INTRO),b.onContinueButtonClick.add((function(){return e.onContinueButton()})),b.onPlayButtonClick.add((function(){return e.onPlayButton()}))}var e=t.prototype;return e.transitionTo=function(t){console.log("Context: Transition to ".concat(t,".")),this._state=this.getState(t),this._state.setContext(this),this._state.handle()},e.getState=function(t){var e;return this._states.has(t)?e=this._states.get(t):(e=this.createState(t),this._states.set(t,e)),e},e.onContinueButton=function(){this._state===this.getState(h.INTRO)&&this.transitionTo(h.IDLE)},e.onPlayButton=function(){this._state===this.getState(h.IDLE)&&this.transitionTo(h.GAMBLE)},e.createState=function(t){switch(t){case h.INTRO:return new f;case h.IDLE:return new y;case h.GAMBLE:return new O;case h.WIN:return new R;case h.LOSE:return new D;default:return new y}},t}(),U=new i.TextStyle({fontFamily:"Arial",fontSize:28,fontWeight:"bold",fill:["#ffffff"],strokeThickness:3,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:440,lineJoin:"round",align:"center"}),H=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._background=new i.Sprite(i.Texture.from("bet_bg.png")),this._bet=new i.Text("",U),this.createBetBackgound(),e.addChild(this._background,this._bet)}var e=t.prototype;return e.createBet=function(t){return this._bet.text=t+"0",this._bet.anchor.set(0),this._bet.width=45,this._bet.x=223,this._bet.y=30,this._bet.interactive=!0,this._bet},e.createBetBackgound=function(){this._background.x=205,this._background.y=25},e.changeValue=function(t){this._bet.text=Number.isInteger(t)?t+".00":t+"0"},t}(),G=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._view=new H(e),this._bet=n,this.activate(this._bet),b.BetChangeEvent.emit(this._bet),b.onBetIncrease.add((function(){return i.increase()})),b.onBetDecrease.add((function(){return i.decrease()}))}var e=t.prototype;return e.increase=function(){20!==this._bet&&(this._bet+=.5),this._view.changeValue(this._bet),b.BetChangeEvent.emit(this._bet)},e.decrease=function(){.5!==this._bet&&(this._bet-=.5),this._view.changeValue(this._bet),b.BetChangeEvent.emit(this._bet)},e.activate=function(t){return this._view.createBet(t)},t}();function W(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}!function(t){t[t.NORMAL=0]="NORMAL",t[t.HOVER=1]="HOVER",t[t.PRESSED=2]="PRESSED",t[t.DISABLED=3]="DISABLED"}(I||(I={}));var Z,F=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._minusTextures=new Map,this._plusTextures=new Map,this._button=new i.Sprite,this._button.height=t.HEIGHT,this._button.width=t.WIDTH,this._button.y=24,this._button.cursor="pointer",this._button.interactive=!0,this.initMinusTextures(),this.initPlusTextures(),e.addChild(this._button)}var e,n,o=t.prototype;return o.createMinus=function(){return this._button.texture=this._minusTextures.get(I.NORMAL),this._button.x=184,this._button},o.createPlus=function(){return this._button.texture=this._plusTextures.get(I.NORMAL),this._button.x=284,this._button},o.initMinusTextures=function(){this._minusTextures.set(I.NORMAL,i.Texture.from("minus_btn_normal.png")),this._minusTextures.set(I.HOVER,i.Texture.from("minus_btn_hover.png")),this._minusTextures.set(I.PRESSED,i.Texture.from("minus_btn_pressed.png")),this._minusTextures.set(I.DISABLED,i.Texture.from("minus_btn_disabled.png"))},o.initPlusTextures=function(){this._plusTextures.set(I.NORMAL,i.Texture.from("plus_btn_normal.png")),this._plusTextures.set(I.HOVER,i.Texture.from("plus_btn_hover.png")),this._plusTextures.set(I.PRESSED,i.Texture.from("plus_btn_pressed.png")),this._plusTextures.set(I.DISABLED,i.Texture.from("plus_btn_disabled.png"))},o.changeTexture=function(t){this._button.texture=t},o.mapMinusTextures=function(t){var e=!1;return this._minusTextures.forEach((function(n){t===n&&(e=!0)})),e},o.onHover=function(){this.mapMinusTextures(this._button.texture)?this.changeTexture(this._minusTextures.get(I.HOVER)):this.changeTexture(this._plusTextures.get(I.HOVER))},o.onOut=function(){this.mapMinusTextures(this._button.texture)?this.changeTexture(this._minusTextures.get(I.NORMAL)):this.changeTexture(this._plusTextures.get(I.NORMAL))},o.onClick=function(){},o.onDown=function(){this.mapMinusTextures(this._button.texture)?this.changeTexture(this._minusTextures.get(I.PRESSED)):this.changeTexture(this._plusTextures.get(I.PRESSED))},o.onUp=function(){this.mapMinusTextures(this._button.texture)?this.changeTexture(this._minusTextures.get(I.HOVER)):this.changeTexture(this._plusTextures.get(I.HOVER))},o.disabled=function(){this._button.interactive=!1,this.mapMinusTextures(this._button.texture)?this.changeTexture(this._minusTextures.get(I.DISABLED)):this.changeTexture(this._plusTextures.get(I.DISABLED))},o.enabled=function(){this._button.interactive=!0,this.mapMinusTextures(this._button.texture)?this.changeTexture(this._minusTextures.get(I.NORMAL)):this.changeTexture(this._plusTextures.get(I.NORMAL))},e=t,(n=[{key:"sprite",get:function(){return this._button}}])&&W(e.prototype,n),t}();F.HEIGHT=47,F.WIDTH=20,function(t){t.CLICK="click",t.MOUSEDOWN="mousedown",t.MOUSEUP="mouseup",t.POINTEROVER="pointerover",t.POINTEROUT="pointerout"}(Z||(Z={}));var K=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._view=new F(e),this._view.sprite.on(Z.CLICK,(function(){return n.onClick()})),this._view.sprite.on(Z.MOUSEDOWN,(function(){return n.onDown()})),this._view.sprite.on(Z.MOUSEUP,(function(){return n.onUp()})),this._view.sprite.on(Z.POINTEROVER,(function(){return n.onHover()})),this._view.sprite.on(Z.POINTEROUT,(function(){return n.onOut()})),b.GambleStartEvent.add((function(){return n.onDisabled()})),b.GambleEndEvent.add((function(){return n.onEnabled()}))}var e=t.prototype;return e.activateMinus=function(){return this._view.createMinus()},e.activatePlus=function(){return this._view.createPlus()},e.onDown=function(){this._view.onDown()},e.onUp=function(){this._view.onUp()},e.onClick=function(){this._view.onClick()},e.onHover=function(){this._view.onHover()},e.onOut=function(){this._view.onOut()},e.onDisabled=function(){this._view.disabled()},e.onEnabled=function(){this._view.enabled()},t}();function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}function X(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y(t,e){return Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Y(t,e)}var q=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}(o,t);var e,n,i=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=z(e);if(n){var o=z(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return X(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,t)).activateMinus(),b.BetChangeEvent.add((function(t){return e.disabled(t)})),e}var r=o.prototype;return r.onClick=function(){b.onBetDecrease.emit("Decrease")},r.disabled=function(t){t===o.MIN_BET?this._view.disabled():this._view.enabled()},o}(K);function Q(t){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Q(t)}function $(t,e){return!e||"object"!==et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tt(t,e){return tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tt(t,e)}J.MIN_BET=.5;var et=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tt(t,e)}(o,t);var e,n,i=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=Q(e);if(n){var o=Q(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return $(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,t)).activatePlus(),b.BetChangeEvent.add((function(t){return e.disabled(t)})),e}var r=o.prototype;return r.onClick=function(){b.onBetIncrease.emit("Increase")},r.disabled=function(t){t===o.MAX_BET?this._view.disabled():this._view.enabled()},o}(K);function it(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}nt.MAX_BET=20;var ot=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._container=new i.Container,this._bgGraphics=new i.Graphics,this.createBetPanel()}var e,n;return t.prototype.createBetPanel=function(){this._bgGraphics.beginFill(0,0),this._bgGraphics.drawRect(0,0,450,100),this._bgGraphics.endFill(),this._container.addChild(this._bgGraphics)},e=t,(n=[{key:"container",get:function(){return this._container}}])&&it(e.prototype,n),t}(),rt=new i.TextStyle({fontFamily:"Arial",fontSize:18,fill:"#ffffff",strokeThickness:1,align:"center"}),at=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._background=new i.Sprite(i.Texture.from("balance_bg.png")),this._balanceValue=new i.Text("",U),this._balanceName=new i.Text("Balance:",rt),this.createBalanceName(),this.createBalanceBackgound(),e.addChild(this._background,this._balanceValue,this._balanceName)}var e=t.prototype;return e.createBalanceValue=function(t){return this._balanceValue.text=Number.isInteger(t)?t+".00":t+"0",this._balanceValue.anchor.set(0),this._balanceValue.width=100,this._balanceValue.x=30,this._balanceValue.y=40,this._balanceValue.interactive=!0,this._balanceValue},e.createBalanceName=function(){this._balanceName.anchor.set(0),this._balanceName.width=40,this._balanceName.x=60,this._balanceName.y=18},e.createBalanceBackgound=function(){this._background.width=150,this._background.height=200,this._background.x=5,this._background.y=-50},e.setBalanceValue=function(t){return this._balanceValue.text=Number.isInteger(t)?t+".00":t+"0",this._balanceValue},t}(),st=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._view=new at(e),this.activate(n),b.BalanceChangeEvent.add((function(t){return i.onBalanceChange(t)})),b.GambleEndEvent.add((function(){return i.onBalanceViewChange()}))}var e=t.prototype;return e.activate=function(t){return this._view.createBalanceValue(t)},e.onBalanceChange=function(t){this._balance=t},e.onBalanceViewChange=function(){this._view.setBalanceValue(this._balance)},t}();function ut(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var ct=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._height=60,this._width=45,this._textures=new Map,this.initTextures(),this._playButton=new i.Sprite(this._textures.get(I.NORMAL)),e.addChild(this._playButton)}var e,n,o=t.prototype;return o.createPlayButton=function(){return this._playButton.height=this._height,this._playButton.width=this._width,this._playButton.anchor.x=.5,this._playButton.anchor.y=.5,this._playButton.x=360,this._playButton.y=45,this._playButton.cursor="pointer",this._playButton.interactive=!0,this._playButton},o.initTextures=function(){this._textures.set(I.NORMAL,i.Texture.from("spin_btn_normal.png")),this._textures.set(I.HOVER,i.Texture.from("spin_btn_hover.png")),this._textures.set(I.PRESSED,i.Texture.from("spin_btn_pressed.png")),this._textures.set(I.DISABLED,i.Texture.from("spin_btn_disabled.png"))},o.changeTexture=function(t){this._playButton.texture=t},o.onDown=function(){this.changeTexture(this._textures.get(I.PRESSED))},o.onUp=function(){this.changeTexture(this._textures.get(I.NORMAL))},o.onHover=function(){this.changeTexture(this._textures.get(I.HOVER))},o.onOut=function(){this.changeTexture(this._textures.get(I.NORMAL))},o.disabled=function(){this.changeTexture(this._textures.get(I.DISABLED)),this._playButton.interactive=!1},o.enabled=function(){this._playButton.interactive=!0,this.changeTexture(this._textures.get(I.NORMAL))},e=t,(n=[{key:"button",get:function(){return this._playButton}}])&&ut(e.prototype,n),t}(),ht=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._view=new ct(e),this.activate(),this._view.button.on(Z.CLICK,(function(){return n.onClick()})),this._view.button.on(Z.MOUSEDOWN,(function(){return n.onDown()})),this._view.button.on(Z.MOUSEUP,(function(){return n.onUp()})),this._view.button.on(Z.POINTEROVER,(function(){return n.onHover()})),this._view.button.on(Z.POINTEROUT,(function(){return n.onOut()})),b.GambleStartEvent.add((function(){return n.onGambleStart()})),b.GambleEndEvent.add((function(){return n.onGambleEnd()}))}var e=t.prototype;return e.activate=function(){return this._view.createPlayButton()},e.onClick=function(){b.onPlayButtonClick.emit("PlayButton")},e.onDown=function(){this._view.onDown()},e.onUp=function(){this._view.onUp()},e.onHover=function(){this._view.onHover()},e.onOut=function(){this._view.onOut()},e.onGambleStart=function(){this._view.disabled()},e.onGambleEnd=function(){this._view.enabled()},t}(),ft=n(194);function lt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var pt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._betValue=1.5,this._balanceValue=25e3,this._boundContainer=new i.Container,this._alpha={opacity:0},this.animate(),this.init(e),b.GameContinueEndEvent.add((function(){return n.show()})),b.WinEvent.add((function(){return n.onWin()})),b.LoseEvent.add((function(){return n.onLose()})),b.BetChangeEvent.add((function(t){return n.onBetChange(t)}))}var e,n,o=t.prototype;return o.init=function(t){var e=new ot;new st(e.container,this._balanceValue),new J(e.container),new nt(e.container),new G(e.container,this._betValue),new ht(e.container),this._boundContainer.position.y=500,this._boundContainer.position.x=175,this.boundContainer.alpha=this._alpha.opacity,t.stage.addChild(this.boundContainer),this._boundContainer.addChild(e.container)},o.animate=function(){ft.ZP.update()},o.update=function(){this._boundContainer.alpha=this._alpha.opacity},o.show=function(){var t=this;new ft.ZP.Tween(this._alpha).to({opacity:1},1e3).easing(ft.ZP.Easing.Linear.None).onUpdate((function(){t.update()})).start()},o.onBetChange=function(t){this._betValue=t},o.onWin=function(){this._balanceValue+=this._betValue,b.BalanceChangeEvent.emit(this._balanceValue)},o.onLose=function(){this._balanceValue-=this._betValue,b.BalanceChangeEvent.emit(this._balanceValue)},e=t,(n=[{key:"boundContainer",get:function(){return this._boundContainer}}])&&lt(e.prototype,n),t}(),_t=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._background=new i.Sprite(i.Texture.from("castle.png")),this.create(e)}return t.prototype.create=function(t){this._background.scale.x=.6,this._background.scale.y=.9,this._background.x=400,this._background.y=150,this._background.anchor.set(.5),t.stage.addChild(this._background)},t}();function dt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var wt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._textures=[],this.createTextures(),this._smoke=new i.AnimatedSprite(this._textures),this.create(e)}var e,n,o=t.prototype;return o.create=function(e){return this._smoke.x=e.x,this._smoke.y=e.y,this._smoke.height=e.height,this._smoke.width=e.width,this._smoke.rotation=e.rotation,this._smoke.anchor.set(.5),this._smoke.gotoAndPlay(Math.random()*t.SMOKE_COUNT|0),this._smoke.alpha=.4,this._smoke},o.createTextures=function(){for(var e=0;e<t.SMOKE_COUNT;e++){var n=i.Texture.from("smoke00".concat(e<9?"0"+(e+1):e+1,".png"));this._textures.push(n)}},e=t,(n=[{key:"animatedSprite",get:function(){return this._smoke}}])&&dt(e.prototype,n),t}();wt.SMOKE_COUNT=60;var bt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._smokeViews=[],this._smokeObjects=[],this.createSmokeObjects(),this.createSmokeViews(),this.activate(e)}var e=t.prototype;return e.createSmokeObjects=function(){this._smokeObjects.push({x:60,y:70,height:150,width:150,rotation:.5},{x:110,y:50,height:100,width:100,rotation:.5},{x:680,y:50,height:100,width:100,rotation:1.5},{x:730,y:70,height:150,width:150,rotation:1.5})},e.createSmokeViews=function(){for(var t=0;t<this._smokeObjects.length;t++){var e=new wt(this._smokeObjects[t]);this._smokeViews.push(e)}},e.activate=function(t){for(var e=0;e<this._smokeViews.length;e++)t.stage.addChild(this._smokeViews[e].animatedSprite)},t}();function yt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var vt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._textures=[],this.createTextures(),this._ash=new i.AnimatedSprite(this._textures),this.create(e)}var e,n,o=t.prototype;return o.create=function(e){return this._ash.x=e,this._ash.y=0,this._ash.height=300,this._ash.width=600,this._ash.anchor.set(.5),this._ash.rotation=2,this._ash.gotoAndPlay(Math.random()*t.ASH_COUNT|0),this._ash},o.createTextures=function(){for(var e=0;e<t.ASH_COUNT;e++){var n=i.Texture.from("paricle00".concat(e<9?"0"+(e+1):e+1,".png"));this._textures.push(n)}},e=t,(n=[{key:"animatedSprite",get:function(){return this._ash}}])&&yt(e.prototype,n),t}();vt.ASH_COUNT=60;var gt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activate(e)}return t.prototype.activate=function(e){for(var n=0;n<t.ASH_COUNT;n++){var i=new vt(100*n);e.stage.addChild(i.animatedSprite)}},t}();function mt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}gt.ASH_COUNT=60;var Tt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._textures=[],this.createTextures(n),this._fire=new i.AnimatedSprite(this._textures),this.create(e)}var e,n,o=t.prototype;return o.create=function(e){return this._fire.x=e.x,this._fire.y=e.y,this._fire.height=e.height,this._fire.width=e.width,this._fire.anchor.set(.5),this._fire.gotoAndPlay(Math.random()*t.FIRE_COUNT|0),this._fire.alpha=.4,this._fire},o.createTextures=function(e){for(var n=0;n<t.FIRE_COUNT;n++){var o=i.Texture.from("".concat(e).concat(n<9?"0"+(n+1):n+1,".png"));this._textures.push(o)}},e=t,(n=[{key:"animatedSprite",get:function(){return this._fire}}])&&mt(e.prototype,n),t}();Tt.FIRE_COUNT=60;var xt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._fireViews=[],this._fireObjects=[],this.createFireObjects(),this.createFireViews(),this.createSingleFireView(),this.activate(e)}var e=t.prototype;return e.createFireObjects=function(){this._fireObjects.push({x:220,y:70,height:100,width:100},{x:220,y:350,height:120,width:120},{x:570,y:70,height:100,width:100},{x:580,y:350,height:130,width:130})},e.createFireViews=function(){for(var t=0;t<this._fireObjects.length;t++){var e=new Tt(this._fireObjects[t],"fire100");this._fireViews.push(e)}},e.createSingleFireView=function(){var t=new Tt({x:710,y:90,height:100,width:100},"fire200");this._fireViews.push(t)},e.activate=function(t){for(var e=0;e<this._fireViews.length;e++)t.stage.addChild(this._fireViews[e].animatedSprite)},t}();function Et(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ot=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._textures=[],this.createTextures(),this._ember=new i.AnimatedSprite(this._textures),this.create(e)}var e,n,o=t.prototype;return o.create=function(e){return this._ember.x=e,this._ember.y=400,this._ember.height=200,this._ember.width=600,this._ember.anchor.set(.5),this._ember.rotation=2,this._ember.gotoAndPlay(Math.random()*t.EMBER_COUNT|0),this._ember},o.createTextures=function(){for(var e=0;e<t.EMBER_COUNT;e++){var n=i.Texture.from("ember0100".concat(e<9?"0"+(e+1):e+1,".png"));this._textures.push(n)}},e=t,(n=[{key:"animatedSprite",get:function(){return this._ember}}])&&Et(e.prototype,n),t}();Ot.EMBER_COUNT=58;var Ct=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activate(e)}return t.prototype.activate=function(e){for(var n=0;n<t.EMBER_COUNT;n++){var i=new Ot(100*n);e.stage.addChild(i.animatedSprite)}},t}();Ct.EMBER_COUNT=58;var St=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init(e)}return t.prototype.init=function(t){new _t(t),new bt(t),new gt(t),new xt(t),new Ct(t)},t}();function kt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Pt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._stone=new i.Sprite(i.Texture.from("stone.png")),this.createStone(),e.addChild(this._stone)}var e,n;return t.prototype.createStone=function(){return this._stone.anchor.set(.5),this._stone.width=250,this._stone.height=400,this._stone.interactive=!0,this._stone},e=t,(n=[{key:"stone",get:function(){return this._stone}}])&&kt(e.prototype,n),t}(),Bt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activate(e)}return t.prototype.activate=function(t){var e=new Pt(t);t.addChild(e.stone)},t}(),Rt=n(182),Mt={alpha:{start:.3,end:0},scale:{start:1,end:.5,minimumScaleMultiplier:1},color:{start:"#a39636",end:"#b54c26"},speed:{start:500,end:800,minimumSpeedMultiplier:1},acceleration:{x:0,y:0},maxSpeed:0,startRotation:{min:235,max:295},noRotation:!1,rotationSpeed:{min:50,max:50},lifetime:{min:.1,max:.75},blendMode:"normal",frequency:.001,emitterLifetime:-1,maxParticles:1e3,pos:{x:0,y:0},addAtBack:!1,spawnType:"circle",spawnCircle:{x:0,y:0,r:10}};function Nt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Lt=function(){function t(e,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),b.GambleStartEvent.add((function(t){t&&o.runParticles()})),b.GambleEndEvent.add((function(){return o.stopParticles()})),this._app=n,this._position={y:-170},this._sword=new i.Sprite(i.Texture.from("sword.png")),this.initEmitter(),this.createSword(),this.animate(),e.addChild(this._sword)}var e,n,o=t.prototype;return o.createSword=function(){return this._sword.anchor.set(.5),this._sword.width=35,this._sword.height=250,this._sword.y=this._position.y,this._sword.interactive=!0,this._sword},o.animate=function(){ft.ZP.update()},o.updateTween=function(){this._sword.y=this._position.y},o.initTween=function(t){var e=this,n=new ft.ZP.Tween(this._position).to({y:t},2e3).easing(ft.ZP.Easing.Elastic.InOut).onUpdate((function(){e.updateTween()})),i=new ft.ZP.Tween(this._position).to({y:-170},2e3).easing(ft.ZP.Easing.Elastic.InOut).onUpdate((function(){e.updateTween()}));n.chain(i),i.onComplete((function(){b.GambleEndEvent.emit("Complete Tween")})),n.start()},o.initEmitter=function(){var t=this,e=new i.Container;this._emitter=new Rt.Q5(e,[i.Texture.from("particle.png"),i.Texture.from("Fire.png")],Mt),e.x=-100,this._app.stage.addChild(e),this._app.start(),this._app.ticker.add((function(){return t.gameLoop()})),this._emitter.emit=!1,this._emitter.updateSpawnPos(500,500)},o.gameLoop=function(){this._app.ticker.elapsedMS,ft.ZP.update(this._app.ticker.lastTime),this._emitter.update(this._app.ticker.elapsedMS/1e3)},o.runParticles=function(){this._emitter.emit=!0},o.stopParticles=function(){this._emitter.emit=!1},o.winAnimate=function(t){this.initTween(t)},o.loseAnimate=function(t){this.initTween(t)},e=t,(n=[{key:"sword",get:function(){return this._sword}}])&&Nt(e.prototype,n),t}(),jt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activate(e,n)}var e=t.prototype;return e.activate=function(t,e){this._view=new Lt(t,e),t.addChild(this._view.sword)},e.onWin=function(){this._view.winAnimate(t.POSITION_WIN)},e.onLose=function(){this._view.loseAnimate(t.POSITION_LOSE)},t}();jt.POSITION_WIN=-305,jt.POSITION_LOSE=-180;var Vt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popupBackground=new i.Sprite(i.Texture.from("popup.png")),this._popupValue=new i.Text("",U),this._popupContainer=new i.Container,this._position={y:-500},this.init(e)}var e=t.prototype;return e.init=function(t){this.createBackground(),this.createValue(),this.createContainer(),t.addChild(this._popupContainer)},e.createContainer=function(){return this._popupContainer.y=this._position.y,this._popupContainer.x=225,this._popupContainer.addChild(this._popupBackground,this._popupValue),this._popupContainer},e.createBackground=function(){return this._popupBackground.width=150,this._popupBackground.height=50,this._popupBackground},e.createValue=function(){return this._popupValue.width=100,this._popupValue.y=7,this._popupValue.x=25,this._popupValue.interactive=!0,this._popupValue},e.setWinValue=function(){return this._popupValue.text="You WIN!",this.initTween(),this._popupValue},e.setLoseValue=function(){return this._popupValue.text="You Lose!",this.initTween(),this._popupValue},e.animate=function(){ft.ZP.update()},e.update=function(){this._popupContainer.y=this._position.y},e.initTween=function(){var t=this,e=new ft.ZP.Tween(this._position).to({y:-435},1e3).easing(ft.ZP.Easing.Linear.None).onUpdate((function(){t.update()})),n=new ft.ZP.Tween(this._position).to({y:-500},1e3).easing(ft.ZP.Easing.Linear.None).delay(2e3).onUpdate((function(){t.update()}));e.chain(n),e.start()},t}(),It=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activate(e),b.WinEvent.add((function(){return n.onWin()})),b.LoseEvent.add((function(){return n.onLose()}))}var e=t.prototype;return e.activate=function(t){this._view=new Vt(t)},e.onWin=function(){this._view.setWinValue()},e.onLose=function(){this._view.setLoseValue()},t}();function Dt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var At=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._sceneContainer=new i.Container,this._alpha={opacity:0},this.animate(),this.init(e),b.GambleStartEvent.add((function(t){return n.onGambleStart(t)})),b.GameContinueEndEvent.add((function(){return n.show()}))}var e,n,o=t.prototype;return o.init=function(t){this._swordController=new jt(this._sceneContainer,t),new It(this._sceneContainer),new Bt(this._sceneContainer),this._sceneContainer.position.y=430,this._sceneContainer.position.x=400,this._sceneContainer.alpha=this._alpha.opacity,t.stage.addChild(this._sceneContainer)},o.animate=function(){ft.ZP.update()},o.update=function(){this._sceneContainer.alpha=this._alpha.opacity},o.show=function(){var t=this;new ft.ZP.Tween(this._alpha).to({opacity:1},1e3).easing(ft.ZP.Easing.Linear.None).onUpdate((function(){t.update()})).start()},o.onGambleStart=function(t){1===t?this.onWin():this.onLose()},o.onWin=function(){this._swordController.onWin()},o.onLose=function(){this._swordController.onLose()},e=t,(n=[{key:"sceneContainer",get:function(){return this._sceneContainer}}])&&Dt(e.prototype,n),t}();function Ut(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ht=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._logo=new i.Sprite(i.Texture.from("logo.png")),this.createLogo(),e.addChild(this._logo)}var e,n;return t.prototype.createLogo=function(){return this._logo.anchor.set(.5),this._logo.width=350,this._logo.height=400,this._logo.x=155,this._logo.y=120,this._logo.interactive=!0,this._logo},e=t,(n=[{key:"logo",get:function(){return this._logo}}])&&Ut(e.prototype,n),t}(),Gt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activate(e)}return t.prototype.activate=function(t){var e=new Ht(t);t.addChild(e.logo)},t}();function Wt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Zt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._hero=new i.Sprite(i.Texture.from("hero.png")),this.createHero(),e.addChild(this._hero)}var e,n;return t.prototype.createHero=function(){return this._hero.anchor.set(.5),this._hero.width=170,this._hero.height=420,this._hero.x=400,this._hero.y=350,this._hero.interactive=!0,this._hero},e=t,(n=[{key:"hero",get:function(){return this._hero}}])&&Wt(e.prototype,n),t}(),Ft=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activate(e)}return t.prototype.activate=function(t){var e=new Zt(t);t.addChild(e.hero)},t}();function Kt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var zt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._textures=new Map,this._button=new i.Sprite,this.initTextures(),e.addChild(this._button)}var e,n,o=t.prototype;return o.create=function(){return this._button.texture=this._textures.get(I.NORMAL),this._button.texture=this._textures.get(I.NORMAL),this._button.height=t.HEIGHT,this._button.width=t.WIDTH,this._button.y=470,this._button.x=550,this._button.cursor="pointer",this._button.interactive=!0,this._button},o.initTextures=function(){this._textures.set(I.NORMAL,i.Texture.from("continue_btn_normal.png")),this._textures.set(I.HOVER,i.Texture.from("continue_btn_hover.png")),this._textures.set(I.PRESSED,i.Texture.from("continue_btn_pressed.png")),this._textures.set(I.DISABLED,i.Texture.from("continue_btn_disabled.png"))},o.changeTexture=function(t){this._button.texture=t},o.onHover=function(){this.changeTexture(this._textures.get(I.HOVER))},o.onOut=function(){this.changeTexture(this._textures.get(I.NORMAL))},o.onDown=function(){this.changeTexture(this._textures.get(I.PRESSED))},o.onUp=function(){this._button.interactive=!1,this.changeTexture(this._textures.get(I.DISABLED))},e=t,(n=[{key:"button",get:function(){return this._button}}])&&Kt(e.prototype,n),t}();zt.HEIGHT=70,zt.WIDTH=180;var Xt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._view=new zt(e),this.activate(),this._view.button.on(Z.CLICK,(function(){return n.onClick()})),this._view.button.on(Z.MOUSEDOWN,(function(){return n.onDown()})),this._view.button.on(Z.MOUSEUP,(function(){return n.onUp()})),this._view.button.on(Z.POINTEROVER,(function(){return n.onHover()})),this._view.button.on(Z.POINTEROUT,(function(){return n.onOut()}))}var e=t.prototype;return e.activate=function(){return this._view.create()},e.onDown=function(){this._view.onDown()},e.onUp=function(){this._view.onUp()},e.onClick=function(){b.onContinueButtonClick.emit("Continue")},e.onHover=function(){this._view.onHover()},e.onOut=function(){this._view.onOut()},t}();function Yt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var qt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._sceneContainer=new i.Container,this._alpha={opacity:1},this.animate(),this.init(e),b.onContinueButtonClick.add((function(){return n.hide(e)}))}var e,n,o=t.prototype;return o.init=function(t){new Gt(this._sceneContainer),new Ft(this._sceneContainer),new Xt(this._sceneContainer),this._sceneContainer.alpha=this._alpha.opacity,t.stage.addChild(this._sceneContainer)},o.animate=function(){ft.ZP.update()},o.update=function(){this._sceneContainer.alpha=this._alpha.opacity},o.hide=function(t){var e=this,n=new ft.ZP.Tween(this._alpha).to({opacity:0},1e3).easing(ft.ZP.Easing.Linear.None).onUpdate((function(){e.update()}));n.onComplete((function(){b.GameContinueEndEvent.emit("Continue"),t.stage.removeChild(e._sceneContainer)})),n.start()},e=t,(n=[{key:"sceneContainer",get:function(){return this._sceneContainer}}])&&Yt(e.prototype,n),t}();function Jt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Qt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._onMusic=i.Texture.from("sound.png"),this._offMusic=i.Texture.from("mute.png"),this._sprite=new i.Sprite(this._onMusic),this.init(e),b.onMuteButtonClick.add((function(t){return n.changeTexture(t)}))}var e,n,o=t.prototype;return o.init=function(t){this._sprite.width=15,this._sprite.height=20,this._sprite.x=5,this._sprite.y=5,this._sprite.alpha=0,this._sprite.interactive=!1,t.stage.addChild(this._sprite)},o.showSprite=function(){this._sprite.interactive=!0,this._sprite.alpha=1},o.changeTexture=function(t){this._sprite.texture=t?this._offMusic:this._onMusic},e=t,(n=[{key:"sprite",get:function(){return this._sprite}}])&&Jt(e.prototype,n),t}(),$t=n(766),te=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._sounds=[],this._src=["soundtrack","remove","stuck","click"],this.generateSounds(),this._view=new Qt(e),this._isMute=!1,this._view.sprite.on(Z.CLICK,(function(){return n.onClick()})),b.onContinueButtonClick.add((function(){n.playSound("soundtrack"),n._view.showSprite()})),b.WinEvent.add((function(){return n.playSound("remove")})),b.LoseEvent.add((function(){return n.playSound("stuck")})),b.onBetDecrease.add((function(){return n.playSound("click")})),b.onBetIncrease.add((function(){return n.playSound("click")})),b.onPlayButtonClick.add((function(){return n.playSound("click")})),b.onMuteButtonClick.add((function(t){return n.onMute(t)}))}var e=t.prototype;return e.generateSounds=function(){var t=this;this._src.forEach((function(e){var n=new $t.Howl({src:["assets/sounds/".concat(e,".mp3")],volume:1,autoplay:!1,loop:!1});t._sounds.push(n)}))},e.playSound=function(t){this._sounds.forEach((function(e){e._src==="assets/sounds/".concat(t,".mp3")&&"soundtrack"===t?(e.volume(.1),e.autoplay=!0,e.loop=!0,e.play()):e._src==="assets/sounds/".concat(t,".mp3")&&e.play()}))},e.onClick=function(){this._isMute=!this._isMute,b.onMuteButtonClick.emit(this._isMute)},e.onMute=function(t){t?this._sounds.forEach((function(t){t.mute(!0)})):this._sounds.forEach((function(t){t.mute(!1)}))},t}();function ee(t,e,n,i,o,r,a){try{var s=t[r](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,o)}function ne(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function a(t){ee(r,i,o,a,s,"next",t)}function s(t){ee(r,i,o,a,s,"throw",t)}a(void 0)}))}}var ie=function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},oe=new i.Application({width:800,height:600});function re(){return ae.apply(this,arguments)}function ae(){return(ae=ne((function(){return ie(this,(function(t){return[2,new Promise((function(t,e){for(var n=i.Loader.shared,o=0;o<10;o++)n.add("./assets/atlasses/atlas".concat(o+1,".json"));n.onComplete.once((function(){t()})),n.onError.once((function(){e()})),n.load()}))]}))}))).apply(this,arguments)}window.onload=ne((function(){return ie(this,(function(t){switch(t.label){case 0:return[4,re()];case 1:return t.sent(),document.body.appendChild(oe.view),(e=function(){oe.renderer.resize(window.innerWidth,window.innerHeight),oe.stage.scale.x=window.innerWidth/800,oe.stage.scale.y=window.innerHeight/600})(),window.addEventListener("resize",e),oe.stage.interactive=!0,new A,new St(oe),new At(oe),new pt(oe),new qt(oe),new te(oe),oe.start(),oe.ticker.add((function(){return oe.ticker.elapsedMS,void ft.ZP.update(oe.ticker.lastTime)})),[2]}var e}))}))}},n={};function i(t){var o=n[t];if(void 0!==o)return o.exports;var r=n[t]={id:t,loaded:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=e,t=[],i.O=function(e,n,o,r){if(!n){var a=1/0;for(h=0;h<t.length;h++){n=t[h][0],o=t[h][1],r=t[h][2];for(var s=!0,u=0;u<n.length;u++)(!1&r||a>=r)&&Object.keys(i.O).every((function(t){return i.O[t](n[u])}))?n.splice(u--,1):(s=!1,r<a&&(a=r));if(s){t.splice(h--,1);var c=o();void 0!==c&&(e=c)}}return e}r=r||0;for(var h=t.length;h>0&&t[h-1][2]>r;h--)t[h]=t[h-1];t[h]=[n,o,r]},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){var t={179:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,r,a=n[0],s=n[1],u=n[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(o in s)i.o(s,o)&&(i.m[o]=s[o]);if(u)var h=u(i)}for(e&&e(n);c<a.length;c++)r=a[c],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(h)},n=self.webpackChunkpixi_typescript_boilerplate=self.webpackChunkpixi_typescript_boilerplate||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var o=i.O(void 0,[597],(function(){return i(708)}));o=i.O(o)}();